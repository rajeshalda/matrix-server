((c,b)=>{XF.Tagger=XF.Element.newHandler({options:{tagList:null},tagContainer:null,inlineEdit:null,init(){if(this.options.tagList){var a;(this.tagContainer=null==(a=b.querySelector(`dl.tagList.${this.options.tagList}`))?void 0:a.querySelector(".js-tagList"))?(XF.on(this.target,"ajax-submit:before",this.beforeSubmit.bind(this)),XF.on(this.target,"ajax-submit:response",this.afterSubmit.bind(this)),this.inlineEdit=XF.createElementFromString('<input type="hidden" name="_xfInlineEdit" value="1" />')):
console.warn("No tag container was found for %s",this.options.tagList)}},beforeSubmit(){this.target.append(this.inlineEdit)},afterSubmit(a){({data:a}=a);a.errors||a.exception||(XF.hasOwn(a,"html")&&(a=XF.createElementFromString(a.html.content.trim()),this.updateTagList(a.querySelector(".js-tagList"))),XF.hideParentOverlay(this.target))},updateTagList(a){this.tagContainer.innerHTML="";this.tagContainer.append(...a.children)}});XF.Element.register("tagger","XF.Tagger")})(window,document);
